(()=>{"use strict";const e=document.currentScript,t=Array.from(e.attributes),i=e.src.split("/").pop(),o=e.src.replace(i,"bundle.js")+"?v=1.5.0";if(Array.from(document.scripts).find((e=>e.src===o)))console.warn("Anonymised tag already present: bundle.js, skipping re-initialization.");else if(i?.startsWith("loader.js")||i?.startsWith("idw_plugin_light.min.js")){const e=document.createElement("script");t.forEach((t=>{e.setAttribute(t.name,t.value)})),e.setAttribute("src",o),document.head.appendChild(e),window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{try{const e=JSON.parse(window.localStorage.getItem("AnonSignalLift"))||{};e?.cuid&&window.googletag.pubads().setPublisherProvidedId(e.cuid),e?.iabAudience&&e?.iabAudience?.length&&(window.googletag.setConfig({pps:{taxonomies:{IAB_AUDIENCE_1_1:{values:e.iabAudience}}}}),console.log("Set PPS to Google Publisher Tag",e.iabAudience)),e.targeting&&Array.isArray(e.targeting)&&e.targeting.forEach((e=>{e?.key&&void 0!==e?.value&&window.googletag.pubads().setTargeting(e.key,e.value)}))}catch(e){console.warn("AnonSignalLift set GPT params error",e)}}))}else console.warn("Error loading Anonymised tag: expected file name to be loader.js or idw_plugin_light.min.js")})();